{{/*
  bg-images/private/utils/options-error.html 
    Formats error message for consistency
    See logic for different conditions and error messages

  @author @sean-au

  @version 1.0.0
  Also used in github.com/future-wd/hugo-responsive-images

  @context (dict)
    "val" (string) - variable value (user input)
    "opts" (string)  correct options
    "var" (string) - variable name in error (required)
    "ctx" (map)
      .ctx - page context (required)
      .img - image page resource object
      .element - element name e.g bg-image/image (required)
      .module - module name (required)
      .type - type of param (site/page/meta/inline)

  @access private

  @example - Go Template
    {{ partial "bg-images/private/utils/options-error" (dict 
    "var" "fill_ratio array item"
    "val" .
    "opts" "2x integers in an array/slice"
    "ctx" $params
    ) }}

    Input missing:
    {{ partial "bg-images/private/utils/options-error" (dict 
    "var" "fill_ratio array item"
    "ctx" $params
    ) }}

*/}}

{{ $message := "" }}
{{ if not .val }}
  {{ if not .ctx.img }}
    {{ $message = printf "%s configuration item \"%s\" on page %s has not been provided." (.ctx.type | title ).var .ctx.ctx.RelPermalink }}
  {{ else }}
    {{ $message = printf "%s configuration item \"%s\" for %s %s on page %s has not been provided." (.ctx.type | title ).var .ctx.element .ctx.img.RelPermalink .ctx.ctx.RelPermalink }}
  {{ end }}
{{ else }}
  {{ $message = printf "Invalid %s config \"%s\" value of \"%v\" for %s %s on page %s. Must be %s." .ctx.type .var .val .ctx.element .ctx.img.RelPermalink .ctx.ctx.RelPermalink .opts }}
{{ end }}


{{ $error := partial "hri/private/utils/errorf" (dict "message" $message "module" .ctx.module) }}

